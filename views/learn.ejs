<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= data.type %> - CodeCanvas</title>
    <link rel="stylesheet" href="/dsapage.css">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <!-- NAVBAR -->
        <nav class="navbar">
            <a href="/learn" class="back-btn">
                <i class="fas fa-arrow-left"></i>
            </a>

            <!-- Logo + Text (centered) -->
            <div class="nav-center">
                <img src="/media/logocc.png" class="logo" alt="CodeCanvas">
                <span class="nav-title">CodeCanvas</span>
            </div>

        </nav>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- Title & Breadcrumb -->
            <header class="page-header">
                <h1 class="page-title"><%= data.type.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()) %></h1>
                
            </header>

            <!-- Definition Section -->
            <section class="section definition-section">
                <h2 class="section-title"><i class="fas fa-book-open"></i> Definition</h2>
                <div class="content-card">
                    <% data.desc.forEach(desc => { %>
                        <p><%= desc %></p>
                    <% }); %>
                </div>
            </section>

            <!-- Algorithm Section -->
            <section class="section algorithm-section">
                <h2 class="section-title"><i class="fas fa-list-ol"></i> Algorithm</h2>
                <div class="content-card">
                    <ol class="steps-list">
                        <% data.algo.forEach(step => { %>
                            <li><%= step %></li>
                        <% }); %>
                    </ol>
                </div>
            </section>

            <!-- Animation & Code Side-by-Side -->
            <section class="section dual-section">
                <div class="animation-container">
                    <h2 class="section-title"><i class="fas fa-play-circle"></i> Animation</h2>
                    <div class="video-wrapper">
                        <video controls class="topic-video">
                            <source src="/media/<%= data.animation %>" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>

                <div class="code-container">
                    <h2 class="section-title"><i class="fas fa-code"></i> Pseudocode</h2>
                    <div class="code-wrapper scrollable">
                        <pre><code class="language-javascript"><%= data.code.join('\n') %></code></pre>
                    </div>
                </div>
            </section>
        </main>
        
    </div>

    <!-- Prism.js auto-highlighting -->
    <script>
        Prism.highlightAll();
    </script>
</body>
</html>